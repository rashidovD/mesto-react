{"version":3,"sources":["images/mestoLogo.svg","images/editButton.svg","images/addButton.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","utils/Api.js","utils/constants.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","React","Component","Footer","CurrentUserContext","createContext","Card","handleClick","props","onCardClick","card","handleLikeClick","onCardLike","handleDeleteCard","onCardDelete","isOwn","this","owner","_id","context","isLiked","likes","some","item","link","name","onClick","type","length","contextType","Main","onEditAvatar","avatar","onEditProfile","pen","about","onAddPlace","plus","cards","map","key","ImagePopup","onClose","PopupWithForm","isOpen","title","noValidate","onSubmit","children","btnTitle","AddPlacePopup","handleNameChange","e","setState","target","value","handleLinkChange","handleSubmit","preventDefault","state","placeholder","minLength","maxLength","required","id","onChange","EditAvatarPopup","event","onUpdateAvatar","imageLinkRef","current","createRef","ref","EditProfilePopup","handleDescriptionChange","description","onUpdateUser","pattern","baseURL","token","_baseURL","_token","url","properties","fetch","then","res","ok","json","Promise","reject","status","_fetchInfo","headers","authorization","dataForm","method","body","JSON","stringify","liked","App","handleEditAvatarClick","isEditAvatarPopupOpen","handleEditProfileClick","isEditProfilePopupOPen","handleAddPlaceClick","isAddPlacePopupOpen","handleCardClick","selectedCard","closeAllPopups","handleUpdateUser","userInfo","api","updUserInfo","currentUser","catch","error","console","log","handleUpdateAvatar","changeAvatar","handleAddPlaceSubmit","uploadCard","newCard","handleCardLike","likeCard","newCards","handleCardDelete","deleteCard","filter","all","getUserInfo","getInitialCards","initialCards","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.82aaa983.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mestoLogo.e889e45f.svg\";","module.exports = __webpack_public_path__ + \"static/media/editButton.6bfdb354.svg\";","module.exports = __webpack_public_path__ + \"static/media/addButton.b2fce4ac.svg\";","import React from 'react';\nimport logo from '../images/mestoLogo.svg';\n\nclass Header extends React.Component {\n  render () {\n    return (\n      <header className=\"header\">\n        <img className=\"logo\" src={logo} alt=\"Логотип\" />\n      </header>\n    )\n  }\n}\n\nexport default Header;","import React from 'react';\n\nclass Footer extends React.Component {\n  render () {\n    return (\n      <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n      </footer>\n    )\n  }\n}\n\nexport default Footer;","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nclass Card extends React.Component {\n  handleClick = () => {\n    this.props.onCardClick(this.props.card);\n  }\n\n  handleLikeClick = () => {\n    this.props.onCardLike(this.props.card);\n  }\n\n  handleDeleteCard = () => {\n    this.props.onCardDelete(this.props.card)\n  }\n\n  static contextType = CurrentUserContext;\n\n  render () {\n    const isOwn = this.props.card.owner._id === this.context._id;\n    const isLiked = this.props.card.likes.some(item => item._id === this.context._id);\n    return (\n      <div className=\"place\">\n        <img\n          className=\"place__image\"\n          src={this.props.card.link}\n          alt={this.props.card.name}\n          onClick={this.handleClick}\n        />\n        {isOwn && <button type=\"button\" className=\"place__delete-card\" onClick={this.handleDeleteCard}></button>}\n        <div className=\"place__description\">\n          <p className=\"place__name\">{this.props.card.name}</p>\n          <div className=\"place__like-box\">\n            <button type=\"button\" className={isLiked ? \"place__like place__like_active\" : \"place__like\"} onClick={this.handleLikeClick}></button>\n            <p className=\"place__count\">{this.props.card.likes.length}</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport pen from '../images/editButton.svg';\nimport plus from '../images/addButton.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass Main extends React.Component {\n  static contextType = CurrentUserContext;\n\n  render() {\n    return (\n      <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__box\">\n\n          <button\n            className=\"profile__avabutton\"\n            type=\"button\"\n            onClick={this.props.onEditAvatar}>\n              <img\n                alt=\"Аватар\"\n                className=\"profile__avatar\"\n                src={this.context.avatar}\n              />\n          </button>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__details\">\n              <h1 className=\"profile__name\">{this.context.name}</h1>\n              <button\n                type=\"button\"\n                className=\"button profile__edit-button\"\n                onClick={this.props.onEditProfile}>\n                  <img\n                  src={pen}\n                  alt=\"Ручка\"\n                  />\n              </button>\n            </div>\n            <p className=\"profile__job\">{this.context.about}</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button profile__add-button\"\n          onClick={this.props.onAddPlace}>\n            <img\n              src={plus}\n              alt=\"Плюс\"\n            />\n        </button>\n      </section>\n      <section className=\"places\">\n        {this.props.cards.map(card => (\n          <Card\n            card={card}\n            key={card._id}\n            onCardClick={this.props.onCardClick}\n            onCardLike={this.props.onCardLike}\n            onCardDelete={this.props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n    )\n  }\n}\n\nexport default Main;\n","import React from 'react';\n\nclass ImagePopup extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className={this.props.card ? \"popup popup_type_img popup_opened\" : \"popup popup_type_img\"}>\n        <div className=\"popup__image-container\">\n          <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={this.props.onClose}>\n          </button>\n          <img  className=\"popup__image\" src={this.props.card} alt=\"\" />\n          <p className=\"popup__text\"></p>\n        </div>\n    </div>\n    )\n  }\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm (props) {\n return (\n  <div className={\n    `popup popup_type_${props.name}\n    ${(props.isOpen) ? \"popup_opened\" : \"\"}`\n  }>\n    <div className=\"popup__container\">\n      <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n      <h3 className=\"popup__title\">{props.title}</h3>\n      <form className=\"form\" name={props.name} noValidate onSubmit={props.onSubmit}>\n        {props.children}\n        <button type=\"submit\" className=\"popup__save-btn\">\n          {props.btnTitle}\n        </button>\n      </form>\n    </div>\n  </div>\n )\n}\n\n\nexport default PopupWithForm;\n\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nclass AddPlacePopup extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      link: ''\n    }\n  }\n\n  handleNameChange = (e) => {\n    this.setState({\n      name: e.target.value\n    })\n  }\n\n  handleLinkChange = (e) => {\n    this.setState({\n      link: e.target.value\n    })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onAddPlace({\n      name: this.state.name,\n      link: this.state.link\n    })\n    this.setState({\n      name: '',\n      link: ''\n    })\n  }\n\n  render () {\n    return (\n      <PopupWithForm\n        name=\"card\"\n        title=\"Новое место\"\n        btnTitle=\"Создать\"\n        isOpen={this.props.isOpen}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n      >\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Название\"\n            className=\"popup__input popup__input_type_place\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            required\n            id=\"name-input\"\n            value={this.state.name}\n            onChange={this.handleNameChange}\n          />\n          <span\n            className=\"popup__input-error\"\n            id=\"name-input-error\">\n          </span>\n          <input\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            className=\"popup__input popup__input_type_link\"\n            required\n            id=\"url-input\"\n            value={this.state.link}\n            onChange={this.handleLinkChange}\n          />\n          <span\n            className=\"popup__input-error\"\n            id=\"url-input-error\">\n          </span>\n      </PopupWithForm>\n    )\n  }\n}\n\nexport default AddPlacePopup;\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nclass EditAvatarPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.imageLinkRef = React.createRef();\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onUpdateAvatar(this.imageLinkRef.current.value);\n    this.imageLinkRef.current.value = '';\n  }\n\n  render() {\n    return (\n        <PopupWithForm\n          name=\"avatar\"\n          title=\"Обновить аватар\"\n          isOpen={this.props.isOpen}\n          onClose={this.props.onClose}\n          onSubmit={this.handleSubmit}\n          btnTitle=\"Сохранить\"\n        >\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_type_link\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            id=\"avatar-input\"\n            required\n            ref={this.imageLinkRef}\n          />\n          <span\n            className=\"popup__input-error\"\n            id=\"avatar-input-error\">\n          </span>\n        </PopupWithForm>\n    )\n  }\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass EditProfilePopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      description: ''\n    }\n  }\n\n  static contextType = CurrentUserContext;\n\n  componentDidMount() {\n    this.setState({\n      name: this.context.name,\n      description: this.context.about\n    })\n  }\n\n  handleNameChange = (event) => {\n    this.setState({\n      name: event.target.value\n    })\n  }\n\n  handleDescriptionChange = (event) => {\n    this.setState({\n      description: event.target.value\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onUpdateUser({\n      name: this.state.name,\n      about: this.state.description\n    })\n  }\n\n  render () {\n    return (\n        <PopupWithForm\n          name=\"profile\"\n          title=\"Редактировать профиль\"\n          isOpen={this.props.isOpen}\n          onClose={this.props.onClose}\n          onSubmit={this.handleSubmit}\n          btnTitle=\"Сохранить\"\n        >\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Имя\"\n              className=\"popup__input popup__input_type_name\"\n              required\n              pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+\"\n              minLength=\"2\"\n              maxLength=\"40\"\n              id=\"name-input\"\n              value={this.state.name}\n              onChange={this.handleNameChange}\n            />\n            <span\n              className=\"popup__input-error\"\n              id=\"name-input-error\">\n            </span>\n            <input\n              type=\"text\"\n              name=\"job\"\n              placeholder=\"О себе\"\n              className=\"popup__input popup__input_type_job\"\n              required\n              minLength=\"2\"\n              maxLength=\"200\"\n              id=\"job-input\"\n              value={this.state.description}\n              onChange={this.handleDescriptionChange}\n            />\n            <span\n              className=\"popup__input-error\"\n              id=\"job-input-error\">\n            </span>\n        </PopupWithForm>\n    )\n  }\n\n}\n\nexport default EditProfilePopup;\n","import {baseURL, token} from './constants';\n\nclass Api {\n  constructor(baseURL, token) {\n    this._baseURL = baseURL;\n    this._token = token;\n  }\n\n  _fetchInfo(url, properties) {\n    return fetch(this._baseURL + url, properties)\n      .then(res => {\n        if(res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  getUserInfo() {\n    return this._fetchInfo('/users/me', {\n      headers: {\n        authorization: this._token\n      }\n    });\n  }\n\n  updUserInfo(dataForm) {\n    return this._fetchInfo('/users/me', {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(dataForm)\n    });\n  }\n\n  getInitialCards() {\n    return this._fetchInfo('/cards', {\n      headers: {\n        authorization: this._token\n      }\n    });\n  }\n\n  uploadCard(dataForm) {\n    return this._fetchInfo('/cards', {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(dataForm)\n    });\n  }\n\n  likeCard(id, liked) {\n    let method;\n    if (liked) {\n      method = 'DELETE';\n    } else {\n      method = 'PUT';\n    }\n    return this._fetchInfo('/cards/likes/' + id, {\n      method: method,\n      headers: {\n        authorization: this._token\n      }\n    });\n  }\n\n  deleteCard(id) {\n    return this._fetchInfo('/cards/' + id, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    });\n  }\n\n  changeAvatar(link) {\n    return this._fetchInfo('/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n  }\n}\n\n\nexport default new Api(baseURL, token);","\n// Настройки валидации форм (2 параметра у FormValidator - объект с настройками и элемент формы)\nexport const validationSettings = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.button__elem',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__input-error_active'\n};\n\nexport const baseURL = 'https://mesto.nomoreparties.co/v1/cohort-12';\nexport const token = 'd358cac0-a420-4d4c-9dd2-c14a231c4bbb';\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport PopupWithForm from './PopupWithForm';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditProfilePopupOPen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      selectedCard: null,\n      currentUser: null,\n      cards: []\n    }\n  }\n\n  componentDidMount() {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userInfo, initialCards]) => {\n        this.setState({\n          currentUser: userInfo,\n          cards: initialCards\n        })\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleEditAvatarClick = () => {\n    this.setState({\n      isEditAvatarPopupOpen: true\n    })\n  }\n\n  handleEditProfileClick = () => {\n    this.setState({\n      isEditProfilePopupOPen: true\n    })\n  }\n\n  handleAddPlaceClick = () => {\n    this.setState({\n      isAddPlacePopupOpen: true\n    })\n  }\n\n  handleCardClick = (card) => {\n    this.setState({\n      selectedCard: card.link\n    })\n  }\n\n  closeAllPopups = () => {\n    this.setState({\n      isEditProfilePopupOPen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      selectedCard: null\n    })\n  }\n\n  handleUpdateUser = (userInfo) => {\n    api.updUserInfo(userInfo)\n      .then(userInfo => {\n        this.setState({\n          currentUser: userInfo\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleUpdateAvatar = (link) => {\n    api.changeAvatar(link)\n      .then(userInfo => {\n        this.setState({\n          currentUser: userInfo\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleAddPlaceSubmit = (dataForm) => {\n    api.uploadCard(dataForm)\n      .then(newCard => {\n        this.setState({\n          cards: [newCard, ...this.state.cards]\n        })\n        this.closeAllPopups();\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === this.state.currentUser._id);\n    api.likeCard(card._id, isLiked)\n      .then(newCard => {\n        const newCards = this.state.cards.map(item => item._id === card._id ? newCard: item);\n        this.setState({\n          cards: newCards\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(res => {\n        const newCards = this.state.cards.filter(item => item._id !== card._id);\n        this.setState({\n          cards: newCards\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n\n        <CurrentUserContext.Provider value={this.state.currentUser}>\n\n          <Header />\n          {this.state.currentUser && <Main\n            onEditProfile={this.handleEditProfileClick}\n            onAddPlace={this.handleAddPlaceClick}\n            onEditAvatar={this.handleEditAvatarClick}\n            onCardClick={this.handleCardClick}\n            cards={this.state.cards}\n            onCardLike={this.handleCardLike}\n            onCardDelete={this.handleCardDelete}\n          />}\n          <Footer />\n\n          {this.state.currentUser && <EditProfilePopup\n            isOpen={this.state.isEditProfilePopupOPen}\n            onClose={this.closeAllPopups}\n            onUpdateUser={this.handleUpdateUser}\n          />}\n\n          <AddPlacePopup\n            isOpen={this.state.isAddPlacePopupOpen}\n            onClose={this.closeAllPopups}\n            onAddPlace={this.handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={this.state.isEditAvatarPopupOpen}\n            onClose={this.closeAllPopups}\n            onUpdateAvatar={this.handleUpdateAvatar}\n          />\n\n          <ImagePopup\n            card={this.state.selectedCard}\n            onClose={this.closeAllPopups}\n          />\n\n        </CurrentUserContext.Provider>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}